---
- name: build environment (CentOS/RHEL)
  package: name={{ item }} state=latest
  with_items:
    - libxml2-devel
    - bison
    - bison-devel
    - openssl-devel
    - curl-devel
    - libjpeg-devel
    - libpng-devel
    - libmcrypt-devel
    - readline-devel
    - libtidy-devel
    - libxslt-devel
    - re2c
  when: ansible_os_family == 'RedHat'

- name: build environment (Debian)
  package: name={{ item }} state=latest
  with_items:
    - libxml2-dev
    - bison
    - libbison-dev
    - libssl-dev
    - libcurl4-openssl-dev
    - libjpeg-dev
    - libpng-dev
    - libmcrypt-dev
    - libreadline-dev
    - libtidy-dev
    - libxslt-dev
    - re2c
    - libmagic-dev
    - libtool
    - libtool-doc
    - autoconf
  when: ansible_os_family == 'Debian'

- name: build environment (Debian)
  package: name={{ item }} state=latest
  with_items:
    - libtool-bin
  when: ansible_os_family == 'Debian' and ansible_distribution_release != 'trusty'
